{
  "apiVersion": "v1",
  "kind": "ConfigMap",
  "metadata": {
    "name": "ray-job-code-sample"
  },
  "data": {
    "sample_code.py": "import ray\nimport os\nimport requests\n\nray.init()\n\n@ray.remote\nclass Counter:\n    def __init__(self):\n        # Used to verify runtimeEnv\n        self.name = os.getenv(\"counter_name\")\n        assert self.name == \"test_counter\"\n        self.counter = 0\n\n    def inc(self):\n        self.counter += 1\n\n    def get_counter(self):\n        return \"{} got {}\".format(self.name, self.counter)\n\ncounter = Counter.remote()\n\nfor _ in range(5):\n    ray.get(counter.inc.remote())\n    print(ray.get(counter.get_counter.remote()))\n\n# Verify that the correct runtime env was used for the job.\nassert requests.__version__ == \"2.26.0\""
  }
}
